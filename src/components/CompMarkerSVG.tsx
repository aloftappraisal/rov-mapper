import { Path as ReactPDFPath, Svg as ReactPDFSvg } from '@react-pdf/renderer';
import { APPRAISAL_MARKER_COLOR, MARKER_SVG_VIEWBOX_DIMENSIONS, ROV_MARKER_COLOR } from '../consts';
import { CompType, MapMarkerEnv, MapMarkerSize } from '../types';
import { getMapMarkerDimensions } from '../utils/getMapMarkerDimensions';
import { getMaxComps } from '../utils/getMaxComps';

const indexToPath: Record<number, string> = {
    0: 'M11.7746 12.2054V13.1304H7.77461V12.2054H9.23961V7.99043C9.23961 7.82377 9.24461 7.6521 9.25461 7.47543L8.21461 8.34543C8.15461 8.3921 8.09461 8.4221 8.03461 8.43543C7.97794 8.44543 7.92294 8.44543 7.86961 8.43543C7.81961 8.42543 7.77461 8.40877 7.73461 8.38543C7.69461 8.35877 7.66461 8.33043 7.64461 8.30043L7.25461 7.76543L9.45961 5.89043H10.4746V12.2054H11.7746Z',
    1: 'M11.5046 11.9804C11.6379 11.9804 11.7429 12.0188 11.8196 12.0954C11.8996 12.1688 11.9396 12.2671 11.9396 12.3904V13.1304H6.97961V12.7204C6.97961 12.6371 6.99628 12.5504 7.02961 12.4604C7.06628 12.3671 7.12294 12.2838 7.19961 12.2104L9.39461 10.0104C9.57794 9.82377 9.74128 9.64543 9.88461 9.47543C10.0313 9.30543 10.1529 9.1371 10.2496 8.97043C10.3463 8.80377 10.4196 8.63543 10.4696 8.46543C10.5229 8.2921 10.5496 8.11043 10.5496 7.92043C10.5496 7.7471 10.5246 7.59543 10.4746 7.46543C10.4246 7.3321 10.3529 7.22043 10.2596 7.13043C10.1696 7.04043 10.0596 6.97377 9.92961 6.93043C9.80294 6.88377 9.65961 6.86043 9.49961 6.86043C9.35294 6.86043 9.21628 6.8821 9.08961 6.92543C8.96628 6.96543 8.85628 7.02377 8.75961 7.10043C8.66294 7.17377 8.58128 7.26043 8.51461 7.36043C8.44794 7.46043 8.39794 7.57043 8.36461 7.69043C8.30794 7.84377 8.23461 7.94543 8.14461 7.99543C8.05461 8.04543 7.92461 8.0571 7.75461 8.03043L7.10461 7.91543C7.15461 7.56877 7.25128 7.26543 7.39461 7.00543C7.53794 6.7421 7.71628 6.52377 7.92961 6.35043C8.14628 6.17377 8.39294 6.0421 8.66961 5.95543C8.94961 5.86543 9.24961 5.82043 9.56961 5.82043C9.90294 5.82043 10.2079 5.87043 10.4846 5.97043C10.7613 6.0671 10.9979 6.20543 11.1946 6.38543C11.3913 6.56543 11.5446 6.7821 11.6546 7.03543C11.7646 7.28877 11.8196 7.57043 11.8196 7.88043C11.8196 8.1471 11.7796 8.39377 11.6996 8.62043C11.6229 8.8471 11.5179 9.06377 11.3846 9.27043C11.2546 9.4771 11.1013 9.6771 10.9246 9.87043C10.7479 10.0638 10.5629 10.2604 10.3696 10.4604L8.73961 12.1254C8.89628 12.0788 9.05128 12.0438 9.20461 12.0204C9.36128 11.9938 9.50961 11.9804 9.64961 11.9804H11.5046Z',
    2: 'M7.13961 7.91543C7.18961 7.56877 7.28628 7.26543 7.42961 7.00543C7.57294 6.7421 7.75128 6.52377 7.96461 6.35043C8.18128 6.17377 8.42794 6.0421 8.70461 5.95543C8.98461 5.86543 9.28461 5.82043 9.60461 5.82043C9.93794 5.82043 10.2379 5.86877 10.5046 5.96543C10.7746 6.05877 11.0046 6.19043 11.1946 6.36043C11.3846 6.5271 11.5296 6.72377 11.6296 6.95043C11.7329 7.1771 11.7846 7.4221 11.7846 7.68543C11.7846 7.91543 11.7579 8.11877 11.7046 8.29543C11.6546 8.46877 11.5813 8.62043 11.4846 8.75043C11.3879 8.88043 11.2679 8.99043 11.1246 9.08043C10.9813 9.17043 10.8196 9.24543 10.6396 9.30543C11.0729 9.4421 11.3963 9.65043 11.6096 9.93043C11.8229 10.2104 11.9296 10.5621 11.9296 10.9854C11.9296 11.3454 11.8629 11.6638 11.7296 11.9404C11.5963 12.2171 11.4163 12.4504 11.1896 12.6404C10.9629 12.8271 10.6996 12.9688 10.3996 13.0654C10.1029 13.1621 9.78794 13.2104 9.45461 13.2104C9.09128 13.2104 8.77461 13.1688 8.50461 13.0854C8.23461 13.0021 7.99961 12.8788 7.79961 12.7154C7.59961 12.5521 7.42961 12.3521 7.28961 12.1154C7.14961 11.8788 7.02961 11.6054 6.92961 11.2954L7.47461 11.0704C7.61794 11.0104 7.75128 10.9954 7.87461 11.0254C8.00128 11.0521 8.09294 11.1188 8.14961 11.2254C8.20961 11.3421 8.27461 11.4571 8.34461 11.5704C8.41794 11.6838 8.50461 11.7854 8.60461 11.8754C8.70461 11.9621 8.82128 12.0338 8.95461 12.0904C9.09128 12.1438 9.25294 12.1704 9.43961 12.1704C9.64961 12.1704 9.83294 12.1371 9.98961 12.0704C10.1463 12.0004 10.2763 11.9104 10.3796 11.8004C10.4863 11.6904 10.5646 11.5688 10.6146 11.4354C10.6679 11.2988 10.6946 11.1621 10.6946 11.0254C10.6946 10.8521 10.6763 10.6954 10.6396 10.5554C10.6029 10.4121 10.5263 10.2904 10.4096 10.1904C10.2929 10.0904 10.1246 10.0121 9.90461 9.95543C9.68794 9.89877 9.39628 9.87043 9.02961 9.87043V8.99043C9.33294 8.9871 9.58461 8.95877 9.78461 8.90543C9.98461 8.8521 10.1429 8.77877 10.2596 8.68543C10.3796 8.58877 10.4629 8.47377 10.5096 8.34043C10.5563 8.2071 10.5796 8.06043 10.5796 7.90043C10.5796 7.56043 10.4846 7.3021 10.2946 7.12543C10.1046 6.94877 9.85128 6.86043 9.53461 6.86043C9.38794 6.86043 9.25294 6.8821 9.12961 6.92543C9.00628 6.96543 8.89461 7.02377 8.79461 7.10043C8.69794 7.17377 8.61628 7.26043 8.54961 7.36043C8.48294 7.46043 8.43294 7.57043 8.39961 7.69043C8.34294 7.84377 8.26794 7.94543 8.17461 7.99543C8.08461 8.04543 7.95628 8.0571 7.78961 8.03043L7.13961 7.91543Z',
    3: 'M10.1596 10.4054V8.04043C10.1596 7.8171 10.1746 7.57043 10.2046 7.30043L7.95961 10.4054H10.1596ZM12.1446 10.4054V11.1204C12.1446 11.1871 12.1229 11.2454 12.0796 11.2954C12.0363 11.3421 11.9746 11.3654 11.8946 11.3654H11.2346V13.1304H10.1596V11.3654H7.10961C7.02628 11.3654 6.95294 11.3404 6.88961 11.2904C6.82628 11.2371 6.78628 11.1721 6.76961 11.0954L6.63961 10.4704L10.0646 5.89543H11.2346V10.4054H12.1446Z',
    4: 'M8.62961 8.52543C8.78961 8.4921 8.94294 8.46877 9.08961 8.45543C9.23628 8.43877 9.37794 8.43043 9.51461 8.43043C9.89461 8.43043 10.2296 8.4871 10.5196 8.60043C10.8096 8.71377 11.0529 8.87043 11.2496 9.07043C11.4463 9.27043 11.5946 9.50543 11.6946 9.77543C11.7946 10.0421 11.8446 10.3304 11.8446 10.6404C11.8446 11.0238 11.7763 11.3738 11.6396 11.6904C11.5063 12.0071 11.3196 12.2788 11.0796 12.5054C10.8396 12.7288 10.5546 12.9021 10.2246 13.0254C9.89794 13.1488 9.54128 13.2104 9.15461 13.2104C8.92794 13.2104 8.71294 13.1871 8.50961 13.1404C8.30628 13.0938 8.11461 13.0321 7.93461 12.9554C7.75794 12.8754 7.59294 12.7854 7.43961 12.6854C7.28961 12.5821 7.15461 12.4738 7.03461 12.3604L7.41461 11.8354C7.49461 11.7221 7.59961 11.6654 7.72961 11.6654C7.81294 11.6654 7.89794 11.6921 7.98461 11.7454C8.07128 11.7988 8.16961 11.8571 8.27961 11.9204C8.39294 11.9838 8.52461 12.0421 8.67461 12.0954C8.82794 12.1488 9.01128 12.1754 9.22461 12.1754C9.45128 12.1754 9.65128 12.1388 9.82461 12.0654C9.99794 11.9921 10.1413 11.8904 10.2546 11.7604C10.3713 11.6271 10.4579 11.4704 10.5146 11.2904C10.5746 11.1071 10.6046 10.9088 10.6046 10.6954C10.6046 10.3021 10.4896 9.99543 10.2596 9.77543C10.0329 9.5521 9.69628 9.44043 9.24961 9.44043C8.90628 9.44043 8.55461 9.50377 8.19461 9.63043L7.42461 9.41043L8.02461 5.90043H11.5946V6.42543C11.5946 6.6021 11.5396 6.74543 11.4296 6.85543C11.3196 6.96543 11.1329 7.02043 10.8696 7.02043H8.88461L8.62961 8.52543Z',
    5: 'M9.20961 8.52543L8.95961 8.83543C9.09961 8.76543 9.24961 8.7121 9.40961 8.67543C9.57294 8.63543 9.74794 8.61543 9.93461 8.61543C10.2079 8.61543 10.4729 8.66043 10.7296 8.75043C10.9896 8.84043 11.2179 8.9771 11.4146 9.16043C11.6113 9.34043 11.7696 9.56543 11.8896 9.83543C12.0096 10.1054 12.0696 10.4204 12.0696 10.7804C12.0696 11.1171 12.0079 11.4338 11.8846 11.7304C11.7613 12.0238 11.5879 12.2804 11.3646 12.5004C11.1413 12.7204 10.8713 12.8938 10.5546 13.0204C10.2413 13.1471 9.89461 13.2104 9.51461 13.2104C9.12794 13.2104 8.78128 13.1488 8.47461 13.0254C8.16794 12.9021 7.90628 12.7304 7.68961 12.5104C7.47294 12.2871 7.30628 12.0204 7.18961 11.7104C7.07628 11.3971 7.01961 11.0504 7.01961 10.6704C7.01961 10.3304 7.08794 9.9821 7.22461 9.62543C7.36461 9.26543 7.57961 8.8921 7.86961 8.50543L9.59461 6.19043C9.65461 6.11043 9.74128 6.0421 9.85461 5.98543C9.97128 5.92877 10.1046 5.90043 10.2546 5.90043H11.3546L9.20961 8.52543ZM9.48961 12.2004C9.68628 12.2004 9.86628 12.1671 10.0296 12.1004C10.1963 12.0338 10.3379 11.9404 10.4546 11.8204C10.5746 11.7004 10.6679 11.5604 10.7346 11.4004C10.8013 11.2371 10.8346 11.0604 10.8346 10.8704C10.8346 10.6638 10.8029 10.4788 10.7396 10.3154C10.6763 10.1488 10.5863 10.0088 10.4696 9.89543C10.3529 9.77877 10.2129 9.69043 10.0496 9.63043C9.88628 9.57043 9.70628 9.54043 9.50961 9.54043C9.31294 9.54043 9.13461 9.57377 8.97461 9.64043C8.81461 9.7071 8.67794 9.80043 8.56461 9.92043C8.45128 10.0371 8.36294 10.1771 8.29961 10.3404C8.23628 10.5004 8.20461 10.6738 8.20461 10.8604C8.20461 11.0604 8.23128 11.2438 8.28461 11.4104C8.34128 11.5738 8.42294 11.7138 8.52961 11.8304C8.63961 11.9471 8.77461 12.0388 8.93461 12.1054C9.09461 12.1688 9.27961 12.2004 9.48961 12.2004Z',
    6: 'M12.0596 5.90043V6.43543C12.0596 6.59543 12.0429 6.72543 12.0096 6.82543C11.9763 6.9221 11.9429 7.00377 11.9096 7.07043L9.16961 12.7104C9.11294 12.8271 9.03294 12.9271 8.92961 13.0104C8.82628 13.0904 8.68794 13.1304 8.51461 13.1304H7.61961L10.4146 7.60543C10.4779 7.4921 10.5396 7.38877 10.5996 7.29543C10.6629 7.19877 10.7329 7.1071 10.8096 7.02043H7.34961C7.27294 7.02043 7.20628 6.9921 7.14961 6.93543C7.09294 6.87877 7.06461 6.8121 7.06461 6.73543V5.90043H12.0596Z',
    7: 'M9.49961 12.2454C9.70294 12.2454 9.88128 12.2171 10.0346 12.1604C10.1879 12.1004 10.3163 12.0188 10.4196 11.9154C10.5263 11.8121 10.6063 11.6888 10.6596 11.5454C10.7129 11.4021 10.7396 11.2471 10.7396 11.0804C10.7396 10.6838 10.6296 10.3838 10.4096 10.1804C10.1896 9.9771 9.88628 9.87543 9.49961 9.87543C9.11294 9.87543 8.80961 9.9771 8.58961 10.1804C8.36961 10.3838 8.25961 10.6838 8.25961 11.0804C8.25961 11.2471 8.28628 11.4021 8.33961 11.5454C8.39294 11.6888 8.47128 11.8121 8.57461 11.9154C8.68128 12.0188 8.81128 12.1004 8.96461 12.1604C9.11794 12.2171 9.29628 12.2454 9.49961 12.2454ZM9.49961 6.75043C9.31628 6.75043 9.15794 6.77877 9.02461 6.83543C8.89128 6.8921 8.77961 6.96877 8.68961 7.06543C8.60294 7.15877 8.53794 7.2671 8.49461 7.39043C8.45461 7.51377 8.43461 7.64377 8.43461 7.78043C8.43461 7.92377 8.45128 8.06377 8.48461 8.20043C8.52128 8.33377 8.58128 8.45377 8.66461 8.56043C8.74794 8.66377 8.85794 8.7471 8.99461 8.81043C9.13128 8.87377 9.29961 8.90543 9.49961 8.90543C9.69961 8.90543 9.86794 8.87377 10.0046 8.81043C10.1413 8.7471 10.2513 8.66377 10.3346 8.56043C10.4179 8.45377 10.4763 8.33377 10.5096 8.20043C10.5463 8.06377 10.5646 7.92377 10.5646 7.78043C10.5646 7.64377 10.5429 7.51377 10.4996 7.39043C10.4563 7.2671 10.3913 7.15877 10.3046 7.06543C10.2179 6.96877 10.1079 6.8921 9.97461 6.83543C9.84128 6.77877 9.68294 6.75043 9.49961 6.75043ZM10.7196 9.36043C11.1596 9.50377 11.4846 9.72377 11.6946 10.0204C11.9046 10.3138 12.0096 10.6738 12.0096 11.1004C12.0096 11.4204 11.9479 11.7104 11.8246 11.9704C11.7046 12.2304 11.5346 12.4521 11.3146 12.6354C11.0946 12.8188 10.8296 12.9604 10.5196 13.0604C10.2129 13.1604 9.87294 13.2104 9.49961 13.2104C9.12628 13.2104 8.78461 13.1604 8.47461 13.0604C8.16794 12.9604 7.90461 12.8188 7.68461 12.6354C7.46461 12.4521 7.29294 12.2304 7.16961 11.9704C7.04961 11.7104 6.98961 11.4204 6.98961 11.1004C6.98961 10.6738 7.09461 10.3138 7.30461 10.0204C7.51461 9.72377 7.83961 9.50377 8.27961 9.36043C7.92961 9.21377 7.66628 9.00543 7.48961 8.73543C7.31628 8.46543 7.22961 8.14043 7.22961 7.76043C7.22961 7.4871 7.28461 7.2321 7.39461 6.99543C7.50794 6.75876 7.66461 6.55377 7.86461 6.38043C8.06461 6.20377 8.30294 6.0671 8.57961 5.97043C8.85961 5.87043 9.16628 5.82043 9.49961 5.82043C9.83294 5.82043 10.1379 5.87043 10.4146 5.97043C10.6946 6.0671 10.9346 6.20377 11.1346 6.38043C11.3346 6.55377 11.4896 6.75876 11.5996 6.99543C11.7129 7.2321 11.7696 7.4871 11.7696 7.76043C11.7696 8.14043 11.6813 8.46543 11.5046 8.73543C11.3313 9.00543 11.0696 9.21377 10.7196 9.36043Z',
    8: 'M8.24961 8.07043C8.24961 8.47377 8.35294 8.7821 8.55961 8.99543C8.76961 9.20543 9.06628 9.31043 9.44961 9.31043C9.64961 9.31043 9.82794 9.27877 9.98461 9.21543C10.1413 9.1521 10.2729 9.06543 10.3796 8.95543C10.4863 8.84543 10.5663 8.71543 10.6196 8.56543C10.6763 8.41543 10.7046 8.25377 10.7046 8.08043C10.7046 7.88377 10.6746 7.70877 10.6146 7.55543C10.5546 7.39877 10.4696 7.2671 10.3596 7.16043C10.2496 7.05377 10.1179 6.9721 9.96461 6.91543C9.81461 6.85877 9.64961 6.83043 9.46961 6.83043C9.28294 6.83043 9.11461 6.8621 8.96461 6.92543C8.81461 6.98543 8.68628 7.07043 8.57961 7.18043C8.47294 7.29043 8.39128 7.4221 8.33461 7.57543C8.27794 7.72543 8.24961 7.89043 8.24961 8.07043ZM9.88961 10.3254C9.94628 10.2554 9.99961 10.1871 10.0496 10.1204C10.0996 10.0538 10.1479 9.9871 10.1946 9.92043C10.0279 10.0271 9.84461 10.1088 9.64461 10.1654C9.44461 10.2188 9.23461 10.2454 9.01461 10.2454C8.76461 10.2454 8.51961 10.2021 8.27961 10.1154C8.03961 10.0288 7.82628 9.89877 7.63961 9.72543C7.45294 9.54877 7.30128 9.3321 7.18461 9.07543C7.07128 8.81543 7.01461 8.5121 7.01461 8.16543C7.01461 7.8421 7.07461 7.53877 7.19461 7.25543C7.31461 6.9721 7.48294 6.72376 7.69961 6.51043C7.91628 6.2971 8.17628 6.12877 8.47961 6.00543C8.78294 5.8821 9.11794 5.82043 9.48461 5.82043C9.85461 5.82043 10.1863 5.87877 10.4796 5.99543C10.7763 6.1121 11.0279 6.27543 11.2346 6.48543C11.4446 6.69543 11.6046 6.9471 11.7146 7.24043C11.8279 7.53377 11.8846 7.85543 11.8846 8.20543C11.8846 8.42877 11.8646 8.64043 11.8246 8.84043C11.7879 9.04043 11.7346 9.23377 11.6646 9.42043C11.5946 9.60377 11.5096 9.78377 11.4096 9.96043C11.3096 10.1371 11.1979 10.3121 11.0746 10.4854L9.41961 12.8454C9.36294 12.9254 9.27794 12.9938 9.16461 13.0504C9.05128 13.1038 8.92294 13.1304 8.77961 13.1304H7.64461L9.88961 10.3254Z',
    9: 'M8.87422 12.2054V13.1304H4.87422V12.2054H6.33922V7.99043C6.33922 7.82377 6.34422 7.6521 6.35422 7.47543L5.31422 8.34543C5.25422 8.3921 5.19422 8.4221 5.13422 8.43543C5.07755 8.44543 5.02255 8.44543 4.96922 8.43543C4.91922 8.42543 4.87422 8.40877 4.83422 8.38543C4.79422 8.35877 4.76422 8.33043 4.74422 8.30043L4.35422 7.76543L6.55922 5.89043H7.57422V12.2054H8.87422ZM15.05 9.51543C15.05 10.1454 14.9817 10.6938 14.845 11.1604C14.7117 11.6238 14.525 12.0071 14.285 12.3104C14.0483 12.6138 13.7667 12.8404 13.44 12.9904C13.1167 13.1371 12.7667 13.2104 12.39 13.2104C12.0133 13.2104 11.6633 13.1371 11.34 12.9904C11.02 12.8404 10.7417 12.6138 10.505 12.3104C10.2683 12.0071 10.0833 11.6238 9.95 11.1604C9.81667 10.6938 9.75 10.1454 9.75 9.51543C9.75 8.8821 9.81667 8.33377 9.95 7.87043C10.0833 7.4071 10.2683 7.02377 10.505 6.72043C10.7417 6.4171 11.02 6.1921 11.34 6.04543C11.6633 5.89543 12.0133 5.82043 12.39 5.82043C12.7667 5.82043 13.1167 5.89543 13.44 6.04543C13.7667 6.1921 14.0483 6.4171 14.285 6.72043C14.525 7.02377 14.7117 7.4071 14.845 7.87043C14.9817 8.33377 15.05 8.8821 15.05 9.51543ZM13.775 9.51543C13.775 8.9921 13.7367 8.55877 13.66 8.21543C13.5833 7.8721 13.48 7.59877 13.35 7.39543C13.2233 7.1921 13.0767 7.05043 12.91 6.97043C12.7433 6.8871 12.57 6.84543 12.39 6.84543C12.2133 6.84543 12.0417 6.8871 11.875 6.97043C11.7117 7.05043 11.5667 7.1921 11.44 7.39543C11.3133 7.59877 11.2117 7.8721 11.135 8.21543C11.0617 8.55877 11.025 8.9921 11.025 9.51543C11.025 10.0388 11.0617 10.4721 11.135 10.8154C11.2117 11.1588 11.3133 11.4321 11.44 11.6354C11.5667 11.8388 11.7117 11.9821 11.875 12.0654C12.0417 12.1454 12.2133 12.1854 12.39 12.1854C12.57 12.1854 12.7433 12.1454 12.91 12.0654C13.0767 11.9821 13.2233 11.8388 13.35 11.6354C13.48 11.4321 13.5833 11.1588 13.66 10.8154C13.7367 10.4721 13.775 10.0388 13.775 9.51543Z',
    10: 'M8.87422 12.2054V13.1304H4.87422V12.2054H6.33922V7.99043C6.33922 7.82377 6.34422 7.6521 6.35422 7.47543L5.31422 8.34543C5.25422 8.3921 5.19422 8.4221 5.13422 8.43543C5.07755 8.44543 5.02255 8.44543 4.96922 8.43543C4.91922 8.42543 4.87422 8.40877 4.83422 8.38543C4.79422 8.35877 4.76422 8.33043 4.74422 8.30043L4.35422 7.76543L6.55922 5.89043H7.57422V12.2054H8.87422ZM14.675 12.2054V13.1304H10.675V12.2054H12.14V7.99043C12.14 7.82377 12.145 7.6521 12.155 7.47543L11.115 8.34543C11.055 8.3921 10.995 8.4221 10.935 8.43543C10.8783 8.44543 10.8233 8.44543 10.77 8.43543C10.72 8.42543 10.675 8.40877 10.635 8.38543C10.595 8.35877 10.565 8.33043 10.545 8.30043L10.155 7.76543L12.36 5.89043H13.375V12.2054H14.675Z',
    11: 'M8.87422 12.2054V13.1304H4.87422V12.2054H6.33922V7.99043C6.33922 7.82377 6.34422 7.6521 6.35422 7.47543L5.31422 8.34543C5.25422 8.3921 5.19422 8.4221 5.13422 8.43543C5.07755 8.44543 5.02255 8.44543 4.96922 8.43543C4.91922 8.42543 4.87422 8.40877 4.83422 8.38543C4.79422 8.35877 4.76422 8.33043 4.74422 8.30043L4.35422 7.76543L6.55922 5.89043H7.57422V12.2054H8.87422ZM14.405 11.9804C14.5383 11.9804 14.6433 12.0188 14.72 12.0954C14.8 12.1688 14.84 12.2671 14.84 12.3904V13.1304H9.88V12.7204C9.88 12.6371 9.89667 12.5504 9.93 12.4604C9.96667 12.3671 10.0233 12.2838 10.1 12.2104L12.295 10.0104C12.4783 9.82377 12.6417 9.64543 12.785 9.47543C12.9317 9.30543 13.0533 9.1371 13.15 8.97043C13.2467 8.80377 13.32 8.63543 13.37 8.46543C13.4233 8.2921 13.45 8.11043 13.45 7.92043C13.45 7.7471 13.425 7.59543 13.375 7.46543C13.325 7.3321 13.2533 7.22043 13.16 7.13043C13.07 7.04043 12.96 6.97377 12.83 6.93043C12.7033 6.88377 12.56 6.86043 12.4 6.86043C12.2533 6.86043 12.1167 6.8821 11.99 6.92543C11.8667 6.96543 11.7567 7.02377 11.66 7.10043C11.5633 7.17377 11.4817 7.26043 11.415 7.36043C11.3483 7.46043 11.2983 7.57043 11.265 7.69043C11.2083 7.84377 11.135 7.94543 11.045 7.99543C10.955 8.04543 10.825 8.0571 10.655 8.03043L10.005 7.91543C10.055 7.56877 10.1517 7.26543 10.295 7.00543C10.4383 6.7421 10.6167 6.52377 10.83 6.35043C11.0467 6.17377 11.2933 6.0421 11.57 5.95543C11.85 5.86543 12.15 5.82043 12.47 5.82043C12.8033 5.82043 13.1083 5.87043 13.385 5.97043C13.6617 6.0671 13.8983 6.20543 14.095 6.38543C14.2917 6.56543 14.445 6.7821 14.555 7.03543C14.665 7.28877 14.72 7.57043 14.72 7.88043C14.72 8.1471 14.68 8.39377 14.6 8.62043C14.5233 8.8471 14.4183 9.06377 14.285 9.27043C14.155 9.4771 14.0017 9.6771 13.825 9.87043C13.6483 10.0638 13.4633 10.2604 13.27 10.4604L11.64 12.1254C11.7967 12.0788 11.9517 12.0438 12.105 12.0204C12.2617 11.9938 12.41 11.9804 12.55 11.9804H14.405Z',
};

type Props = {
    type: CompType;
    env: MapMarkerEnv;
    index?: number;
    size?: MapMarkerSize;
};

export function CompMarkerSVG({ type, index, env, size = 'md' }: Props) {
    const hasNumber = typeof index === 'number';
    if (hasNumber) {
        const maxComps = getMaxComps(type);
        if (index >= maxComps) {
            console.warn(`Expected at most ${maxComps} comps but got comp with index ${index}`);
            return <span>{(index + 1).toLocaleString()}</span>;
        }
    }

    const SvgElement = env === 'web' ? 'svg' : ReactPDFSvg;
    const PathElement = env === 'web' ? 'path' : ReactPDFPath;

    const { width, height } = getMapMarkerDimensions(size);
    const pinFill =
        type === 'appraisal'
            ? APPRAISAL_MARKER_COLOR.toColorCode()
            : ROV_MARKER_COLOR.toColorCode();

    return (
        <SvgElement
            width={width}
            height={height}
            viewBox={`0 0 ${MARKER_SVG_VIEWBOX_DIMENSIONS.width} ${MARKER_SVG_VIEWBOX_DIMENSIONS.height}`}
        >
            <PathElement
                d="M18.5 9.91304C18.5 12.4863 17.3285 14.7245 15.5481 16.9351C14.3446 18.4293 12.9024 19.8671 11.3939 21.371C10.7699 21.9931 10.1345 22.6265 9.5 23.2799C8.86548 22.6265 8.23012 21.9931 7.60611 21.371C6.09757 19.8671 4.65538 18.4293 3.45191 16.9351C1.67154 14.7245 0.5 12.4863 0.5 9.91304C0.5 4.69409 4.54928 0.5 9.5 0.5C14.4507 0.5 18.5 4.69409 18.5 9.91304Z"
                fill={pinFill}
                stroke="#FFF"
            />
            {hasNumber && <PathElement d={indexToPath[index]} fill="#FFF" />}
        </SvgElement>
    );
}
